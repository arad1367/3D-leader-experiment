<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>3D Leader Experiment</title>
    <link rel="icon" href="favicon.ico" />
    <style>
      body {
        font-family: "Arial", sans-serif;
        margin: 0;
        padding: 0;
        background: url("AI.jpg") no-repeat center center fixed;
        background-size: cover;
        color: #333;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      .container {
        width: 95%;
        max-width: 1200px;
        margin: 30px auto;
        padding: 20px;
        background-color: rgba(255, 255, 255, 0.85);
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
      }

      header {
        text-align: center;
        margin-bottom: 30px;
      }

      h1 {
        color: #2c3e50;
        margin-bottom: 10px;
      }

      h2 {
        color: #3498db;
        margin-bottom: 20px;
      }

      p {
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .iframe-container {
        position: relative;
        width: 90%;
        height: 0;
        padding-bottom: 70%; /* Reduced padding for less white space */
        overflow: hidden;
        margin: 0 auto 30px;
      }

      .iframe-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
      }

      .confirmation-box {
        background-color: #f8f9fa;
        padding: 20px;
        border-radius: 5px;
        border: 1px solid #dee2e6;
        margin-top: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
        text-align: center;
      }

      .checkbox-container {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
      }

      .confirm-checkbox {
        margin-right: 10px;
        width: 20px;
        height: 20px;
      }

      .next-button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
      }

      .next-button:hover {
        background-color: #2980b9;
      }

      .next-button:disabled {
        background-color: #95a5a6;
        cursor: not-allowed;
      }

      /* Task Description Styles */
      .task-description {
        background-color: #f8f9fa;
        padding: 15px;
        border-radius: 5px;
        border-left: 5px solid #3498db;
        margin-bottom: 20px;
      }

      /* Interaction Container Styles */
      .interaction-container {
        display: flex;
        flex-direction: row;
        gap: 20px;
        margin-bottom: 30px;
      }

      @media (max-width: 768px) {
        .interaction-container {
          flex-direction: column;
        }
      }

      .chatbot-container,
      .email-container {
        flex: 1;
        border-radius: 5px;
        overflow: hidden;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        height: 600px; /* Reduced height to match the email container */
      }

      .chatbot-container {
        position: relative;
      }

      .chatbot-container iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      .email-container {
        background-color: #fff;
        padding: 20px;
        display: flex;
        flex-direction: column;
      }

      .email-form {
        display: flex;
        flex-direction: column;
        height: 100%;
      }

      .email-form input,
      .email-form textarea {
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-family: "Arial", sans-serif;
      }

      .email-form textarea {
        flex-grow: 1;
        resize: none;
        min-height: 220px; /* Original email textarea height */
        max-height: 220px; /* Added max height */
      }

      .email-form button {
        background-color: #3498db;
        color: white;
        border: none;
        padding: 10px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s;
        align-self: flex-end;
      }

      .email-form button:hover {
        background-color: #2980b9;
      }

      /* Thank You Section Styles */
      .thank-you {
        text-align: center;
        margin: 40px 0;
        padding: 20px;
        background-color: #e8f4fc;
        border-radius: 5px;
      }

      .thank-you h2 {
        color: #2c3e50;
      }

      footer {
        text-align: center;
        padding: 20px;
        margin-top: 30px;
        color: #ffff00; /* Neon yellow color */
        font-size: 14px;
        text-shadow: 0 0 5px #ffff00, 0 0 10px #ffff00, 0 0 15px #ffff00,
          0 0 20px #ffff00;
        font-weight: bold;
        animation: neon-glow 1.5s ease-in-out infinite alternate;
      }

      @keyframes neon-glow {
        from {
          text-shadow: 0 0 5px #ffff00, 0 0 10px #ffff00, 0 0 15px #ffff00;
        }
        to {
          text-shadow: 0 0 10px #ffff00, 0 0 20px #ffff00, 0 0 30px #ffff00;
        }
      }

      /* Hide pages by default */
      .page {
        display: none;
      }

      /* Show active page */
      .page.active {
        display: block;
      }
    </style>
  </head>
  <body>
    <!-- Page 1: Pre-Interaction Survey -->
    <div id="page1" class="page active">
      <div class="container">
        <header>
          <h1>Exploring 3D Chatbot Interaction: A Research Study</h1>
          <h2>Pre-Interaction Survey</h2>
        </header>

        <p>
          Please complete this brief survey before proceeding with the study.
          Your responses will help us better understand your background and
          preferences.
        </p>

        <div class="iframe-container" style="padding-bottom: 110%">
          <iframe
            src="https://docs.google.com/forms/d/e/1FAIpQLSd79AdTj1ZAtU7k6fYhmBeN2E30jRIr_CnhpALkGU2lG3g6_A/viewform?embedded=true"
            width="640"
            height="2018"
            frameborder="0"
            marginheight="0"
            marginwidth="0"
            >Loadingâ€¦</iframe
          >
        </div>

        <div class="confirmation-box">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="confirmCheckbox1"
              class="confirm-checkbox"
            />
            <label for="confirmCheckbox1"
              >I confirm that I have completed the survey above</label
            >
          </div>
          <button class="next-button" id="nextButton1" disabled>
            I Completed Pre-Interaction Survey
          </button>
        </div>
      </div>
    </div>

    <!-- Page 2: Interaction Page -->
    <div id="page2" class="page">
      <div class="container">
        <header>
          <h1>3D Chatbot Interaction Task</h1>
        </header>

        <div class="task-description">
          <p>
            <strong>Task description:</strong> You work in a team with four
            other human teammates. One of the teammates does not contribute
            anything to the project but always takes credit. You already tried
            to talk to the teammate, but the behavior did not change. You now
            want to complain to the team leader by writing an e-mail.
          </p>
        </div>

        <div class="interaction-container">
          <div class="chatbot-container">
            <iframe
              src="https://virtual-3d-leader.onrender.com/"
              frameborder="0"
              allow="microphone; camera"
            ></iframe>
          </div>

          <div class="email-container">
            <h3>Email Scratchpad</h3>
            <form class="email-form">
              <input
                type="text"
                placeholder="To: team.leader@company.com"
                readonly
              />
              <input
                type="text"
                placeholder="Subject: Team Collaboration Issue"
                id="emailSubject"
              />
              <textarea
                id="emailBody"
                placeholder="Compose your email to the team leader here..."
              ></textarea>
              <button type="button" id="sendEmail">Send Email</button>
            </form>
          </div>
        </div>

        <div class="confirmation-box">
          <div class="checkbox-container">
            <input
              type="checkbox"
              id="confirmCheckbox2"
              class="confirm-checkbox"
            />
            <label for="confirmCheckbox2"
              >I confirm that I have completed the interaction with 3D
              chatbot</label
            >
          </div>
          <button class="next-button" id="nextButton2" disabled>
            I Completed Interaction Task
          </button>
        </div>
      </div>
    </div>

    <!-- Page 3: Post-Interaction Survey -->
    <div id="page3" class="page">
      <div class="container">
        <header>
          <h1>Exploring 3D Chatbot Interaction: A Research Study</h1>
          <h2>Post-Interaction Survey</h2>
        </header>

        <div class="thank-you">
          <h2>Thank You for Your Participation!</h2>
          <p>
            Your contribution to this research is greatly appreciated. Please
            complete the final survey below to share your experience.
          </p>
        </div>

        <p>
          Please take a moment to complete this post-interaction survey. Your
          feedback is invaluable to our research.
        </p>

        <div class="iframe-container" style="padding-bottom: 200%">
          <iframe
            src="https://docs.google.com/forms/d/e/1FAIpQLScWfGZ5CS7AuzfpKN_s5WRiU8pC3BQwD0uB98qOBEjyG0Jt1w/viewform?embedded=true"
            width="640"
            height="4469"
            frameborder="0"
            marginheight="0"
            marginwidth="0"
            >Loadingâ€¦</iframe
          >
        </div>
      </div>
    </div>

    <footer>
      &copy; 2025 3D Leader Experiment by Leona Chandra, Isabella Seeber,
      Johannes Schneider, and Pejman Ebrahimi - All Rights Reserved
    </footer>

    <script>
      // Navigation between pages
      document
        .getElementById("nextButton1")
        .addEventListener("click", function () {
          document.getElementById("page1").classList.remove("active");
          document.getElementById("page2").classList.add("active");
          window.scrollTo(0, 0);
        });

      document
        .getElementById("nextButton2")
        .addEventListener("click", function () {
          document.getElementById("page2").classList.remove("active");
          document.getElementById("page3").classList.add("active");
          window.scrollTo(0, 0);
        });

      // Enable or disable buttons based on checkboxes
      document
        .getElementById("confirmCheckbox1")
        .addEventListener("change", function () {
          document.getElementById("nextButton1").disabled = !this.checked;
        });

      document
        .getElementById("confirmCheckbox2")
        .addEventListener("change", function () {
          document.getElementById("nextButton2").disabled = !this.checked;
        });

      // Email send simulation
      document
        .getElementById("sendEmail")
        .addEventListener("click", function () {
          const subject = document.getElementById("emailSubject").value;
          const body = document.getElementById("emailBody").value;

          if (!subject || !body) {
            alert("Please fill in both subject and body of the email.");
            return;
          }

          alert(
            "Email drafted successfully! You can continue to interact with the 3D chatbot or proceed to the next step if you are done."
          );
        });
    </script>
  </body>
</html>
